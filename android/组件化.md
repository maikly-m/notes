## 组件化

`组件化模型：`

| 名词  | 含义  |
|---|---|
|  集成模式 |  所有的业务组件被“app壳工程”依赖，组成一个完整的APP； |
| 组件模式  |  可以独立开发业务组件，每一个业务组件就是一个APP； |
|  app壳工程 | 负责管理各个业务组件，和打包apk，没有具体的业务功能；  |
|  业务组件 | 根据公司具体业务而独立形成一个的工程；  |
|  功能组件 |  提供开发APP的某些基础功能，例如打印日志、树状图等； |
|  Main组件 | 属于业务组件，指定APP启动页面、主界面；  |
|  Common组件 |  属于功能组件，支撑业务组件的基础，提供多数业务组件需要的功能，例如提供网络请求功能； |

`如何组件化：`

- 组件模式和集成模式的转换      
  通过gradle配置application或library的方式，打包为apk或者aar；配置多份AndroidManifest文件，用于集成和调试
- 组件之间AndroidManifest合并     
  AndroidManifest容易出现冲突，合并时覆盖属性的时候，app下的AndroidManifest优先级大于aar；
  部分属性需要使用"tools:replace"来修改；
- 组件数据初始化   
  统一在app的application中初始化
- library依赖     
  依赖冲突，根据组件名排除或者根据包名排除；依赖重复或者版本不一致
- 组件之间调用和通信     
  使用ARouter，在编译期使用注解生成映射文件，通过路由跳转；
- 组件之间资源名冲突     
  尽量使用模块名加功能等组合来规范命名；
- 组件化项目的混淆      
  组件内部混淆和app混淆；


`组件化优势：`

1. 组件模式下可以加快编译速度，提高开发效率；
1. 自由选择开发框架（MVC /MVP / MVVM /）；
1. 方便做单元测试；
1. 代码架构更加清晰，降低项目的维护难度；
1. 适合于团队开发；

